<div class="search-results-container" *ngIf="isSearchActive">
  <div class="search-results-list" *ngIf="searchResults.length > 0; else noResults">
    <div
      *ngFor="let result of searchResults; let i = index; trackBy: trackByResultId"
      class="search-result-item"
      [class.selected]="isSelected(i)"
      [attr.data-result-index]="i"
      (click)="onResultClick(result)"
      role="button"
      tabindex="0"
      [attr.aria-label]="result.label + ' in ' + result.categoryLabel"
    >
      <div class="result-header">
        <div class="result-title">
          {{ result.label }}
        </div>
        <div class="result-badges">
          <span class="category-badge">
            {{ result.categoryLabel }}
          </span>
          <span
            *ngFor="let badge of getStatusBadges(result)"
            class="status-badge"
            [class.disabled]="badge === 'Disabled'"
            [class.admin-only]="badge === 'Admin Only'"
            [class.deprecated]="badge === 'Deprecated'"
          >
            {{ badge }}
          </span>
        </div>
      </div>
      <div class="result-description" *ngIf="result.summary || result.description">
        {{ result.summary || result.description }}
      </div>
      <div class="result-meta" *ngIf="result.group">
        <span class="result-group">{{ result.group }}</span>
      </div>
    </div>
  </div>

  <ng-template #noResults>
    <div class="no-results">
      <i class="bi bi-search"></i>
      <p>No settings found</p>
    </div>
  </ng-template>
</div>
