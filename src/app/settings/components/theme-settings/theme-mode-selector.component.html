<div class="theme-mode-selector card">
  <div class="card-body">
    <div>
      <h5>Theme Modes</h5>
      <p class="text-muted mb-3">
        Choose how your theme should behave. You can set specific themes or sync with your system preferences.
      </p>
    </div>

    <!-- Theme Mode Options -->
    <div class="row g-3">
      <!-- Light Mode -->
      <div class="col-md-4">
        <div class="theme-mode-option"
             [class.active]="currentMode === ThemeMode.LIGHT && !syncWithSystem"
             (click)="onModeSelect(ThemeMode.LIGHT)"
             role="button"
             tabindex="0"
             (keydown.enter)="onModeSelect(ThemeMode.LIGHT)"
             (keydown.space)="onModeSelect(ThemeMode.LIGHT)">
          <div class="theme-mode-icon">
            <i class="bi bi-sun-fill"></i>
          </div>
          <div class="theme-mode-content">
            <h6 class="theme-mode-title">Light Mode</h6>
            <small class="text-muted">Always use light theme accents.</small>
          </div>
          <div class="theme-mode-radio">
            <input type="radio" name="themeMode"
                   [value]="ThemeMode.LIGHT"
                   [checked]="currentMode === ThemeMode.LIGHT && !syncWithSystem"
                   (change)="onModeSelect(ThemeMode.LIGHT)">
          </div>
        </div>
      </div>

      <!-- Dark Mode -->
      <div class="col-md-4">
        <div class="theme-mode-option"
             [class.active]="currentMode === ThemeMode.DARK && !syncWithSystem"
             (click)="onModeSelect(ThemeMode.DARK)"
             role="button"
             tabindex="0"
             (keydown.enter)="onModeSelect(ThemeMode.DARK)"
             (keydown.space)="onModeSelect(ThemeMode.DARK)">
          <div class="theme-mode-icon">
            <i class="bi bi-moon-fill"></i>
          </div>
          <div class="theme-mode-content">
            <h6 class="theme-mode-title">Dark Mode</h6>
            <small class="text-muted">Always use dark theme accents.</small>
          </div>
          <div class="theme-mode-radio">
            <input type="radio" name="themeMode"
                   [value]="ThemeMode.DARK"
                   [checked]="currentMode === ThemeMode.DARK && !syncWithSystem"
                   (change)="onModeSelect(ThemeMode.DARK)">
          </div>
        </div>
      </div>

      <!-- System Mode -->
      <div class="col-md-4">
        <div class="theme-mode-option"
             [class.active]="syncWithSystem"
             (click)="onSystemSyncChange(true)"
             role="button"
             tabindex="0"
             (keydown.enter)="onSystemSyncChange(true)"
             (keydown.space)="onSystemSyncChange(true)">
          <div class="theme-mode-icon">
            <i class="bi bi-circle-half"></i>
          </div>
          <div class="theme-mode-content">
            <h6 class="theme-mode-title">Sync with system</h6>
            <small class="text-muted">
              <i class="bi" [class.bi-sun-fill]="effectiveMode === 'Light'" [class.bi-moon-fill]="effectiveMode === 'Dark'"></i>
              {{ effectiveMode }} Mode
            </small>
          </div>
          <div class="theme-mode-radio">
            <input type="radio" name="themeMode"
                   value="system"
                   [checked]="syncWithSystem"
                   (change)="onSystemSyncChange(true)">
          </div>
        </div>
      </div>
    </div>

      <!-- System Sync Info -->
      <div class="sync-alert small text-muted">
        <div class="mt-3 p-0" *ngIf="syncWithSystem">
          <i class="bi bi-check-circle-fill me-1"></i>
          Your theme will automatically switch between your selected light and dark themes based on your system settings.
        </div>
      </div>
    </div>
</div>
