<div class="theme-panel card" [class.active-theme]="isActive">
  <div class="card-header">
    <div class="d-flex justify-content-between align-items-center">
      <h5 class="card-title mb-0">
        <i class="bi me-2" [class]="modeIcon"></i>
        {{ title }}
      </h5>
      <span class="badge theme-status" [class.active]="isActive">
        <i class="bi" [class.bi-check-circle-fill]="isActive" [class.bi-circle]="!isActive"></i>
        {{ activeStatusText }}
      </span>
    </div>
    <p class="text-muted mb-0 mt-2">{{ description }}</p>
  </div>

  <div class="card-body">
    <div class="theme-variants" *ngIf="themes.length > 0">
      <div class="row g-3">
        <div class="col-12" *ngFor="let theme of themes">
          <div class="theme-group">
            <h6 class="theme-group-title">{{ theme.name }}</h6>
            <div class="theme-variants-grid">
              <app-theme-card
                *ngFor="let variant of theme.variants"
                [variant]="variant"
                [isSelected]="variant.id === selectedVariantId"
                [isActive]="isActive && variant.id === selectedVariantId"
                (click)="onVariantSelect(variant.id)">
              </app-theme-card>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="no-themes-message" *ngIf="themes.length === 0">
      <div class="text-center py-4">
        <i class="bi bi-palette display-6 text-muted"></i>
        <h6 class="mt-2 text-muted">No {{ mode }} themes available</h6>
        <p class="small text-muted mb-0">Themes will appear here once loaded.</p>
      </div>
    </div>
  </div>
</div>