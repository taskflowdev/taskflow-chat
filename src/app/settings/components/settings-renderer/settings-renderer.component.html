<div class="setting-card" [class.is-disabled]="isDisabled">
  <span *ngIf="isDisabled" class="setting-badge"
    [appCommonTooltip]="settingKey.disabledReason || 'This feature is not available right now. It will be available soon.'">
    <i class="bi bi-x-circle"></i>
    Disabled
  </span>
  <span *ngIf="!isDisabled && isDeprecated" class="setting-badge deprecated">
    <i class="bi bi-exclamation-triangle"></i>
    Deprecated
  </span>
  <div class="setting-header">
    <div class="setting-info">
      <div class="setting-label-container">
        <i [class]="'bi bi-' + getIconClass()" class="setting-icon"></i>
        <label class="setting-label">
          {{ getSettingLabel() }}
          <!-- Sync Indicator next to label -->
          <app-sync-indicator [status]="syncStatus" [errorMessage]="syncErrorMessage">
          </app-sync-indicator>
        </label>
      </div>
      <p class="setting-description" *ngIf="getSettingDescription()">
        {{ getSettingDescription() }}
      </p>
    </div>
    <button *ngIf="isModified" type="button" class="reset-btn" (click)="onResetToDefault()"
      [disabled]="isSaving || isDisabled" appCommonTooltip="Reset to default">
      <i class="bi bi-arrow-counterclockwise"></i>
    </button>
  </div>

  <div class="setting-control">
    <!-- Boolean type - Toggle Switch -->
    <app-toggle-control *ngIf="controlType === 'toggle'" [value]="currentValue" [disabled]="isSaving || isDisabled"
      (valueChange)="onValueChange($event)">
    </app-toggle-control>

    <!-- Select type - Dropdown -->
    <app-select-control *ngIf="controlType === 'select' && hasOptions" [value]="currentValue"
      [options]="getTranslatedOptions()" [label]="settingKey.label" [disabled]="isSaving || isDisabled"
      (valueChange)="onValueChange($event)">
    </app-select-control>

    <!-- Radio type - Radio Group -->
    <app-radio-control *ngIf="controlType === 'radio' && hasOptions" [value]="currentValue"
      [options]="getTranslatedOptions()" [name]="settingKey.key!" [disabled]="isSaving || isDisabled"
      (valueChange)="onValueChange($event)">
    </app-radio-control>
  </div>

  <!-- Tags Section -->
  <div *ngIf="hasTags()" class="tags-section">
    <hr>
    <div class="tags-container">
      <span *ngFor="let tag of settingKey.tags" class="tag">
        #{{ tag }}
      </span>
    </div>
  </div>
</div>
