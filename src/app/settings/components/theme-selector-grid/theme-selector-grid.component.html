<div class="theme-selector-grid">
  @if (isLoading) {
    <div class="themes-grid">
      @for (item of [1,2,3]; track item) {
        <div class="theme-grid-item">
          <app-loading-skeleton
            width="100%"
            height="180px"
            borderRadius="12px"
            skeletonClass="skeleton--card">
          </app-loading-skeleton>
        </div>
      }
    </div>
  } @else if (themes.length === 0) {
    <div class="empty-grid">
      <i class="bi bi-palette2 empty-icon" aria-hidden="true"></i>
      <p class="empty-text">No themes available</p>
    </div>
  } @else {
    <div class="themes-grid" role="radiogroup" aria-label="Theme selection">
      @for (theme of themes; track trackByThemeId($index, theme)) {
        <div class="theme-grid-item">
          <app-theme-card
            [theme]="theme"
            [selected]="isSelected(theme)"
            (themeClick)="onThemeSelect(theme.id || '')"
            [attr.aria-checked]="isSelected(theme)"
            role="radio"
            [attr.aria-label]="'Select ' + theme.name + ' theme'">
          </app-theme-card>
        </div>
      }
    </div>
  }
</div>